<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="img/icon.png" type="image/png">
    <title>欢迎来玩三维扫雷喵=￣ω￣=</title>
    <meta name="description" content="三维扫雷 — 一个模块化的网页三维扫雷游戏。可自定义网格大小与地雷数量，支持音乐、主题切换与移动端体验。立即试玩，挑战你的逻辑推理能力！">
    <meta name="robots" content="index, follow">

    <!-- Open Graph / Social Sharing -->
    <meta property="og:locale" content="zh_CN">
    <meta property="og:type" content="website">
    <meta property="og:title" content="三维扫雷 — 模块化 3D 扫雷 网页游戏">
    <meta property="og:description" content="一个模块化的网页三维扫雷游戏，支持自定义难度、背景音乐与主题切换。立即试玩！">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="三维扫雷 — 模块化 3D 扫雷 网页游戏">
    <meta name="twitter:description" content="一个模块化的网页三维扫雷游戏，支持自定义难度、背景音乐与主题切换。立即试玩！">

    <!-- SEO由GitHub Copilot生成 -->
    <link rel="stylesheet" type="text/css" href="css/style.css">

    <!-- 本项目通过三维扫雷体现模块化、抽象化和面向对象编程的理念 -->
    <!-- 想法来源：本人近段时间很喜欢玩扫雷，但是玩久了又有点玩腻了，于是想出了做三维扫雷的想法 -->
    <!-- 感谢Claude在我学习ThreeJS时提供的帮助，帮我实现了最基础的三维格子 -->
    <!-- 感谢GitHub Copilot在我修复游戏主函数无法正确执行递归清理方块时和introduction.js出现的无法正确点亮对应div等问题时提供的意见和帮助，以及SEO和自动补全注释 -->
    <!-- 感谢Gemini 3 Flash在我修改响应式页面时的帮助 -->
</head>
<body>
    <button id="menu">
        菜单
    </button>
    <main id="main-content">
        <div class="blur-box big-box" id="game-box">
            <h1 style="text-align: center;">模块化 - 三维扫雷</h1>

            <div class="game-controls">
            <div id="settings">
                <label for="difficulty">难度：</label>
                <select id="difficulty">
                    <option value="easy" selected>简单</option>
                    <option value="medium">中等</option>
                    <option value="hard">困难</option>
                    <option value="custom">自定义</option>
                </select>
                <div id="custom-settings" style="display: none;">
                    <label for="gridSize">网格大小：</label>
                    <input type="number" id="gridSize" required min="2" max="20" value="8">
                    <label for="mineCountInput">地雷数量：</label>
                    <input type="number" id="mineCountInput" required min="1" max="5000" value="18">
                </div>
                <button id="restart-button">重新开始</button>
                <button id="reset-button">复盘本关</button>
            </div>

            <div id="states">
                剩余地雷: <span id="mineCount">0</span>
                已标记: <span id="flagCount">0</span>
                游戏状态: <span id="gameStatus">进行中</span>
                时间: <span id="timer">0</span> 秒
            </div>

            <button id="music-control">
                背景音乐播放
            </button>
            </div>
            <audio id="background-music" loop>
            <source src="./music/1.mp3" type="audio/mpeg"/>
            </audio>

            <div id="game-container">
            <!-- 游戏画面将渲染在这里 -->
            <div class="blur-box" id="neighborMines">
                单击方块以查看周围地雷数量
                双击方块以打开方块
            </div>
            <canvas id="game-canvas"></canvas>
            </div>
        </div>

    <div class="blur-box big-box" id="introduction">
        <h2 style="text-align: center;">游戏说明</h2>
        <p>欢迎来到三维扫雷游戏！在这个游戏中，你需要在一个三维网格中找到所有隐藏的地雷，同时避免触发它们。</p>
        <p>游戏玩法：</p>
        <ul>
            <li>左键方块以查看它的邻居雷数，双击以打开方块。如果方块为地雷，游戏结束</li>
            <li>右键方块以标记。标记正确的地雷有助于你避免触发它们</li>
            <li>左键拖拽以旋转视角，右键拖拽以平移视角，滚轮缩放视角</li>
            <li>数字表示该方块周围相邻的地雷数量，利用这些信息来推断地雷的位置</li>
        </ul>
        <p>难度说明：</p>
        <ul>
            <li>简单：网格大小 3x3x3，地雷数量 3</li>
            <li>中等：网格大小 6x6x6，地雷数量 26</li>
            <li>困难：网格大小 12x12x12，地雷数量 238</li>
            <li>自定义：你可以设置网格大小（最小2，最大20）和地雷数量（最小1，最大5000）</li>
        </ul>

        <p>祝你好运，玩得开心！=￣ω￣=</p>
        <p>温馨提示：可以使用菜单中的🌗按钮循环切换主题，用🎨自定义方块色彩，用🔃恢复默认颜色，用🛠️进入自定义界面调色，用⏫导入存档，用💾导出存档</p>
        <p>网页有自动保存存档功能，每30秒或每次操作后自动保存</p>
        <p>推荐使用最新Chromium内核浏览器，因为有些新特性不确定在别的浏览器能不能用😜</p>
        <br />
        <P>点击翻页查看算法说明及模块化演示</P>

        <div id="color-legend">
            <span class="mineColors" id="isMine">地雷</span>
            <span class="mineColors" id="notRevealed">未翻开</span>
            <span class="mineColors" id="flagged">已标记</span>
        </div>
    </div>
</main>

<footer>
        <div class="blur-box full-width" id="thanks">
            <p style="text-align: center;">© 2025 HurtGhostMeow All rights reserved.</p>
            <p style="text-align: center; font-size: small;">点击查看致谢！</p>
        </div>
    </footer>
    
    <script src="./js/game_main.js" type="module"></script>
    <script src="./js/menu.js" type="module"></script>
    <script src="./js/music.js" type="module"></script>
    <script src="./js/thanks.js" type="module"></script>
    <script src="./js/introduction.js" type="module"></script>
    <script src="./js/show_module.js" type="module"></script>
</body>
</html>